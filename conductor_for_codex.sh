#!/usr/bin/env bash
#
# conductor_for_codex.sh
#
# Offline installer for Codex + Conductor skills (no network).
# Non-destructive by default:
# - Does NOT delete files.
# - Does NOT overwrite existing files/folders.
#
# Installs into your HOME by default (no sudo):
#   $HOME/.codex/skills/<skill>/SKILL.md
# Installs a global init command (if missing):
#   $HOME/.local/bin/codex_conductor_init
#
# Override paths via env vars:
#   CODEX_HOME=/custom/.codex BIN_DIR=/custom/bin bash ./conductor_for_codex.sh
#
set -euo pipefail

CODEX_HOME="${CODEX_HOME:-$HOME/.codex}"
BIN_DIR="${BIN_DIR:-$HOME/.local/bin}"
NO_PATH_HINT="${NO_PATH_HINT:-0}"

echo "==========================================="
echo "  Conductor for Codex - Installer (Linux)"
echo "==========================================="
echo ""

tmp="$(mktemp -d 2>/dev/null || mktemp -d -t c4c)"
trap 'rm -rf "$tmp"' EXIT
zip_path="$tmp/payload.zip"
cat >"$tmp/payload.b64" <<'B64_EOF'
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
B64_EOF

if base64 -d "$tmp/payload.b64" >"$zip_path" 2>/dev/null; then :
elif base64 --decode "$tmp/payload.b64" >"$zip_path" 2>/dev/null; then :
else echo "base64 decode failed"; exit 1; fi
extract_dir="$tmp/extract"
mkdir -p "$extract_dir"

if command -v unzip >/dev/null 2>&1; then unzip -oq "$zip_path" -d "$extract_dir" || true
elif command -v python3 >/dev/null 2>&1; then ZIP_PATH="$zip_path" EXTRACT_DIR="$extract_dir" python3 - <<'PY'
import os, zipfile
zip_path = os.environ["ZIP_PATH"]
extract_dir = os.environ["EXTRACT_DIR"]
with zipfile.ZipFile(zip_path, "r") as z:
  z.extractall(extract_dir)
PY
else echo "Need unzip or python3 to extract payload.zip"; exit 1; fi

mkdir -p "$CODEX_HOME/skills" "$BIN_DIR"

# Install skills one-by-one (skip if destination exists)
for s in conductor-setup conductor-status conductor-implement conductor-newTrack conductor-revert update-conductor; do
  if [[ -e "$CODEX_HOME/skills/$s" ]]; then
    echo "  Exists, skipping: $CODEX_HOME/skills/$s"
  else
    posix_src="$extract_dir/skills/$s"
    win_src_file="$extract_dir/skills\\$s\\SKILL.md"
    if [[ -d "$posix_src" ]]; then
      cp -a "$posix_src" "$CODEX_HOME/skills/$s"
      echo "  Installed: $CODEX_HOME/skills/$s"
    elif [[ -f "$win_src_file" ]]; then
      # Handle payload archives whose file names use Windows-style path separators.
      mkdir -p "$CODEX_HOME/skills/$s"
      cp -a "$win_src_file" "$CODEX_HOME/skills/$s/SKILL.md"
      echo "  Installed: $CODEX_HOME/skills/$s"
    else
      echo "Missing extracted skill payload for: $s"
      exit 1
    fi
  fi
done

# Install init command only if missing
if [[ -e "$BIN_DIR/codex_conductor_init" ]]; then
  echo "  Exists, skipping: $BIN_DIR/codex_conductor_init"
else
  cat >"$BIN_DIR/codex_conductor_init" <<'INIT_EOF'
#!/usr/bin/env bash
# codex_conductor_init
#
# Non-destructive by default:
# - Does NOT delete files.
# - Does NOT overwrite existing files/folders.
#
# Usage:
#   codex_conductor_init            # initializes current directory
#   codex_conductor_init /path/to/repo
#
set -euo pipefail

REPO_ROOT="${1:-$(pwd)}"
CODEX_HOME="${CODEX_HOME:-$HOME/.codex}"

skill_names=(conductor-setup conductor-status conductor-implement conductor-newTrack conductor-revert update-conductor)

mkdir -p "$REPO_ROOT/.codex/skills"

for s in "${skill_names[@]}"; do
  src="$CODEX_HOME/skills/$s"
  dst="$REPO_ROOT/.codex/skills/$s"
  [[ -d "$src" ]] || { echo "Missing installed skill: $src"; exit 1; }
  if [[ -e "$dst" ]]; then
    echo "  Exists, skipping: .codex/skills/$s"
    continue
  fi
  cp -a "$src" "$dst"
  echo "  Installed: .codex/skills/$s"
done

rule_line='Always run $conductor-status before doing anything else.'
if [[ -e "$REPO_ROOT/AGENTS.md" ]]; then
  if command -v grep >/dev/null 2>&1; then
    if ! grep -Fxq "$rule_line" "$REPO_ROOT/AGENTS.md"; then
      echo "$rule_line" >>"$REPO_ROOT/AGENTS.md"
    fi
  else
    echo "$rule_line" >>"$REPO_ROOT/AGENTS.md" || true
  fi
  echo "  Ensured AGENTS.md contains conductor-status rule"
else
  cat >"$REPO_ROOT/AGENTS.md" <<'AGENTS_EOF'
# AGENTS.md

Always run $conductor-status before doing anything else.


AGENTS_EOF
  echo "  Created AGENTS.md"
fi

# Ensure conductor/ ignore exists (no duplicates if grep is available)
if [[ ! -f "$REPO_ROOT/.gitignore" ]]; then
  echo "conductor/" >"$REPO_ROOT/.gitignore"
elif command -v grep >/dev/null 2>&1; then
  if ! grep -qx "conductor/" "$REPO_ROOT/.gitignore"; then
    echo "conductor/" >>"$REPO_ROOT/.gitignore"
  fi
else
  echo "conductor/" >>"$REPO_ROOT/.gitignore" || true
fi

echo "  Ensured .gitignore contains conductor/"
INIT_EOF
  chmod +x "$BIN_DIR/codex_conductor_init"
  echo "  Created: $BIN_DIR/codex_conductor_init"
fi

if [[ "$NO_PATH_HINT" != "1" ]]; then
  case ":${PATH}:" in
    *":${BIN_DIR}:"*) ;;
    *) echo "  NOTE: Add $BIN_DIR to PATH to run codex_conductor_init from anywhere." ;;
  esac
fi

echo ""
echo "Run in any repo directory:"
echo "  codex_conductor_init"
